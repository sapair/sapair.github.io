<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        
        <title>Xiaodong Xu</title>
        
        <link rel="alternate" type="application/rss+xml" title="Xiaodong Xu" href="http://toy.linuxtoy.org/atom.xml">
        <link rel="shortcut icon" href="favicon.ico">
        <!-- syntax highlighting css -->
        <link rel="stylesheet" type="text/css" href="css/syntax.css">
        <!-- homepage css -->
        <link rel="stylesheet" type="text/css" href="css/hgtip/aal.css">
        <link rel="stylesheet" type="text/css" href="css/hgtip/calluna.css">
        <link rel="stylesheet" type="text/css" href="css/hgtip/style.css">
    </head>
    <body>
        <div id="main-wrap">
            <div id="header">
                <h1><a href="" title="Xiaodong Xu">Xiaodong Xu</a></h1>
            </div>
            <p id="navigation">
                <a href="pages/archives.html">archives</a> &mdash;
                <a href="pages/projects.html">projects</a> &mdash;
                <a href="pages/viml.html">viml</a> &mdash;
                <a href="pages/people.html">people</a> &mdash;
                <a href="pages/favorite.html">favorite</a> &mdash;
                <a href="pages/about.html">about</a>
            </p>
            <div id="content">
                <div id="toc">
    
        
        <h2><a href="https://github.com/xuxiaodong/pydoc-epub" title="External link">将 Python 文档打包成 ePub 格式</a> <a href="/2014/06/16/python-epub-doc.html" title="Permanent link to: '将 Python 文档打包成 ePub 格式'">&raquo;</a></h2>
        
        <p id="tip-info">June 16, 2014</p>
        <p>虽然 Python 官方文档针对最新版本提供有 ePub 格式，但是这个<br />
包包含所有的内容，在我的手机上打开十分慢。另外，Python 2.x<br />
系列并不提供 ePub 格式。于是，我编写了 <a href="https://github.com/xuxiaodong/pydoc-epub">pydocepub</a> 这个<br />
脚本用来将 Python 文档自动打包成 ePub 格式。</p>

<p>要使用 pydocepub，首先需要安装 Mercurial 和 <a href="http://sphinx-doc.org/">Sphinx</a>，<br />
在 Debian 下可执行：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>apt-get install mercurial sphinx-doc
</code></pre>
</div>

<p>接着，从 GitHub 克隆该脚本：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>git clone https://github.com/xuxiaodong/pydoc-epub.git
</code></pre>
</div>

<p>比如，要打包 Python 2.7.7 的教程：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>./pydocepub 2.7.7 tutorial
</code></pre>
</div>

<p>打包完成后的 ePub 文件可在以下目录中找到：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>2.7.7/tutorial/build/epub
</code></pre>
</div>


    
        
        <h2><a href="https://major.io/2014/05/20/switching-to-systemd-on-debian-jessie/" title="External link">Debian Jessie 切换 systemd</a> <a href="/2014/06/13/switching-to-systemd-on-debian-jessie.html" title="Permanent link to: 'Debian Jessie 切换 systemd'">&raquo;</a></h2>
        
        <p id="tip-info">June 13, 2014</p>
        <p>目前，许多 Linux 发行版都相继切换到了 systemd。在 Debian Jessie<br />
中，要从 SysVinit 切换到 systemd，可执行如下命令：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>apt-get update
apt-get install systemd systemd-sysv
reboot
</code></pre>
</div>

<p>在切换前，注意查看系统<a href="https://wiki.debian.org/systemd">是否满足需求</a>。</p>


    
        
        <h2><a href="http://www.pureftpd.org/project/pure-ftpd" title="External link">使用 Pure-FTPd 架设 FTP 服务</a> <a href="/2014/05/09/pure-ftpd.html" title="Permanent link to: '使用 Pure-FTPd 架设 FTP 服务'">&raquo;</a></h2>
        
        <p id="tip-info">May  9, 2014</p>
        <p>最近需要与同事交换一些数据文件，于是考虑架设一个 FTP <br />
服务。这里，我使用 Pure-FTPd 来加以实现。</p>

<p><strong>安装</strong></p>

<p>在 Debian 中，执行：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>apt-get install pure-ftpd
</code></pre>
</div>

<p><strong>允许匿名用户访问</strong></p>

<p>编辑 <code class="highlighter-rouge">/etc/pure-ftpd/conf/NoAnonymous</code> 将其中的 yes <br />
改为 no。</p>

<p>添加一个名为 ftp 的用户：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>adduser ftp
</code></pre>
</div>

<p>再重启服务：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>service pure-ftpd restart
</code></pre>
</div>

    
        
        <h2><a href="http://www.grymoire.com/Unix/Sed.html#uh-8" title="External link">sed 中通过 /n 指定匹配出现次数</a> <a href="/2014/04/17/sed-specifying-which-occurrence.html" title="Permanent link to: 'sed 中通过 /n 指定匹配出现次数'">&raquo;</a></h2>
        
        <p id="tip-info">April 17, 2014</p>
        <p>在 sed 中，通过 <code class="highlighter-rouge">/n</code> (n 代表数字) 可以指定匹配出现的次数。</p>

<p>例 1：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sed 's/[a-zA-Z]* //2' &lt;old &gt;new
</code></pre>
</div>

<p>这里的 <code class="highlighter-rouge">/2</code> 将匹配到的第二个单词删除。</p>

<p>例 2：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sed 's/./&amp;:/80' &lt;file &gt;new
</code></pre>
</div>

<p>这里的 <code class="highlighter-rouge">/80</code> 在第 80 个字符后面添加一个 <code class="highlighter-rouge">:</code>。</p>

<p>例 3：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sed 's/[a-zA-Z]* /DELETED /2g' &lt;old &gt;new
</code></pre>
</div>

<p>与 <code class="highlighter-rouge">/g</code> 连用，将匹配到的第二个、第三个……替换成 DELETED。</p>

<p><code class="highlighter-rouge">/n</code> 中的 n 可以取 1 ~ 512 中的数。</p>

<p>注意，<code class="highlighter-rouge">/n</code> 与 <code class="highlighter-rouge">\n</code> 的区别，后者指引用捕获匹配的内容，n 取 1 ~ 9。</p>

    
        
        <h2><a href="http://synergy-foss.org/" title="External link">利用 Synergy 共享鼠标和键盘</a> <a href="/2014/03/19/share-mouse-and-keyboard-with-synergy.html" title="Permanent link to: '利用 Synergy 共享鼠标和键盘'">&raquo;</a></h2>
        
        <p id="tip-info">March 19, 2014</p>
        <p>在办公室工作的时候，如果想要将台式机的鼠标和键盘共享<br />
给笔记本使用，通过 Synergy 是很方便的。</p>

<p>要达到上述目的，首先在台式机和笔记本上都安装 Synergy，<br />
注意保证两边的版本一致，以免出现兼容问题。</p>

<p><strong>台式机：服务端</strong></p>

<p>因为我们是打算共享台式机的鼠标和键盘，所以这里将台式<br />
机作为 Synergy 的服务端。同时，在 <code class="highlighter-rouge">/etc/synergy.conf</code><br />
中添加下列内容：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>section: screens
    codefun: 
    codetoy: 
end

section: links
    codefun:
        left  = codetoy
    codetoy:
        right = codefun
end
</code></pre>
</div>

<p>其中，<code class="highlighter-rouge">codetoy</code> 和 <code class="highlighter-rouge">codefun</code> 分别为台式机和笔记本的主机<br />
名。<code class="highlighter-rouge">screens</code> 节定义要使用共享鼠标和键盘的两台机器，也<br />
可以同时定义多台。<code class="highlighter-rouge">links</code> 节则定义两台机器的屏幕所处的<br />
位置，这里我们将台式机设置在左边，相应地笔记本则在台式机<br />
的右边。除了左右关系，也能定义上下关系。</p>

<p>配置好后，通过以下命令启动 Synergy 的服务端：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>synergys -f -n codetoy
</code></pre>
</div>

<p><strong>笔记本：客户端</strong></p>

<p>客户端无需配置，直接使用如下命令连接服务端即可：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>synergyc -f -n codetoy 192.168.1.58
</code></pre>
</div>

<p>其中，<code class="highlighter-rouge">192.168.1.58</code> 为 Synergy 服务端所在机器的 IP。</p>

<p>现在，当将鼠标指针从台式机的屏幕右边移出时，你会发现它<br />
已经进到笔记本的屏幕了。如果要返回台式机屏幕，则从笔记<br />
本屏幕的左边移出即可。</p>

    
    <p><a href="pages/archives.html">More &raquo;</a></p>
</div>

            </div>
            <div id="footer">
                follow me: <a href="https://twitter.com/xuxiaodong">twitter</a> / <a href="https://plus.google.com/101096637428284023293/" rel="author">google+</a> / <a href="https://github.com/xuxiaodong">github</a> / <a href="http://www.linkedin.com/pub/xiaodong-xu/62/319/7">linkedin</a> / <a href="http://toy.linuxtoy.org/atom.xml">rss</a>
            </div>
        </div>
    </body>
</html>
