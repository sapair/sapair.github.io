<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        
        <title>post2wp: 发布 Post 到 WordPress</title>
        
        <link rel="alternate" type="application/rss+xml" title="Xiaodong Xu" href="http://toy.linuxtoy.org/atom.xml">
        <link rel="shortcut icon" href="favicon.ico">
        <!-- syntax highlighting css -->
        <link rel="stylesheet" type="text/css" href="css/syntax.css">
        <!-- homepage css -->
        <link rel="stylesheet" type="text/css" href="css/hgtip/aal.css">
        <link rel="stylesheet" type="text/css" href="css/hgtip/calluna.css">
        <link rel="stylesheet" type="text/css" href="css/hgtip/style.css">
    </head>
    <body>
        <div id="main-wrap">
            <div id="header">
                <h1><a href="" title="Xiaodong Xu">Xiaodong Xu</a></h1>
            </div>
            <p id="navigation">
                <a href="pages/archives.html">archives</a> &mdash;
                <a href="pages/projects.html">projects</a> &mdash;
                <a href="pages/viml.html">viml</a> &mdash;
                <a href="pages/people.html">people</a> &mdash;
                <a href="pages/favorite.html">favorite</a> &mdash;
                <a href="pages/about.html">about</a>
            </p>
            <div id="content">
                
<h2><a href="https://github.com/xuxiaodong/bin/blob/master/post2wp" title="External link">post2wp: 发布 Post 到 WordPress</a></h2>

<p id="tip-info">November 20, 2013 @ 02:06 PM</p>
<p>以前我用 Perl 写了一个 <code class="highlighter-rouge">blogpost</code> 用来从命令行发布 Post 到 WordPress。后来，随<br />
着对 WordPress 的升级，<code class="highlighter-rouge">blogpost</code> 就不好使了。直到最近，看了一点 Python，于是<br />
打算重写一个。所以现在有了 <code class="highlighter-rouge">post2wp</code>。</p>

<p><code class="highlighter-rouge">post2wp</code> 目前仅支持发布新的 Post 及编辑旧的 Post。</p>

<p>首先，准备 WordPress 的帐号信息，在 <code class="highlighter-rouge">~/.post2wprc</code> 中添加如下内容：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[post2wp]
url = https://linuxtoy.org/xmlrpc.php
username = &lt;user&gt;
password = &lt;pass&gt;
</code></pre>
</div>

<p>之后，要发布新 Post 的话，可以执行：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>post2wp -t &lt;title&gt; -f &lt;content&gt;
</code></pre>
</div>

<p>这两个选项是必需的。此外，也可以跟上 slug、catetory、status 等选项：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>post2wp -t &lt;title&gt; -l &lt;slug&gt; -c &lt;category&gt; -f &lt;content&gt; -s &lt;status&gt;
</code></pre>
</div>

<p>其中：</p>

<ul>
  <li><code class="highlighter-rouge">-t</code> 指定标题</li>
  <li><code class="highlighter-rouge">-l</code> 指定 slug，就是 Post 网址中显示的那部分</li>
  <li><code class="highlighter-rouge">-c</code> 指定类别，可同时指定多个类别，只需空格分隔即可</li>
  <li><code class="highlighter-rouge">-f</code> 指定要 Post 的文件，Markdown 格式就很好，WordPress 支持的 HTML 也行</li>
  <li><code class="highlighter-rouge">-s</code> 指定发布状态，默认为草稿，设为 <code class="highlighter-rouge">publish</code> 的话就直接发布</li>
</ul>

<p>编辑 Post 则可以使用：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>post2wp -t &lt;title&gt; -f &lt;content&gt; -i &lt;post_id&gt;
</code></pre>
</div>

<p>话说在 Python 中不用 Perl 的那些符号，看起来的确要干净不少。Python 简单、一致<br />
的设计哲学确实不错。</p>

<div id="tip-comments">
    <h2>Related Posts</h2>
    <ul>
        
        <li><a href="/2014/06/16/python-epub-doc.html">将 Python 文档打包成 ePub 格式</a> &raquo; June 16, 2014</li>
        
        <li><a href="/2014/06/13/switching-to-systemd-on-debian-jessie.html">Debian Jessie 切换 systemd</a> &raquo; June 13, 2014</li>
        
        <li><a href="/2014/05/09/pure-ftpd.html">使用 Pure-FTPd 架设 FTP 服务</a> &raquo; May  9, 2014</li>
        
    </ul>
</div>

            </div>
            <div id="footer">
                follow me: <a href="https://twitter.com/xuxiaodong">twitter</a> / <a href="https://plus.google.com/101096637428284023293/" rel="author">google+</a> / <a href="https://github.com/xuxiaodong">github</a> / <a href="http://www.linkedin.com/pub/xiaodong-xu/62/319/7">linkedin</a> / <a href="http://toy.linuxtoy.org/atom.xml">rss</a>
            </div>
        </div>
    </body>
</html>
